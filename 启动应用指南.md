# 🚀 启动应用指南

## 换尿布任务已完成！

您的换尿布任务已经完全实现，包含以下功能：

### ✨ 功能特点

1. **视觉反馈**
   - 任务开始：😭 哭脸（宝宝不舒服）
   - 任务成功：😊 笑脸（宝宝舒服了）
   - 任务失败：😭 继续哭脸（需要重试）

2. **互动控制**
   - ⏱️ 提腿速度滑块（1-10秒）
   - 🧻 擦拭彻底度滑块（1-10次）
   - 👶 尿布放置顺序选择

3. **游戏机制**
   - 真实的换尿布逻辑（来自 hardcore_parenting_game.py）
   - 随机事件："喷射袭击"（提腿太慢时30%概率触发）
   - 数值变化显示（清洁度、快乐度、健康值、压力值）

4. **美观界面**
   - 渐变背景
   - 动画效果（弹跳、抖动）
   - 响应式设计

---

## 📋 启动步骤

### 方法 1：使用批处理文件（推荐）

1. **双击运行** `start_app.bat`
2. 等待应用启动
3. 打开浏览器访问：`http://localhost:5000`

### 方法 2：命令行启动

```bash
# 1. 安装依赖（首次运行）
python -m pip install -r requirements.txt

# 2. 启动应用
python main.py
```

### 方法 3：检查环境

如果遇到问题，先运行测试脚本：

```bash
python test_setup.py
```

---

## 🎮 使用换尿布任务

1. **访问主页**
   ```
   http://localhost:5000
   ```

2. **点击"换尿布任务"链接**
   ```
   http://localhost:5000/diaper
   ```

3. **调整参数**
   - 提腿速度：建议 3-4 秒（太慢会触发喷射袭击！）
   - 擦拭彻底度：建议 7-9 次（太少不干净，太多浪费时间）
   - 尿布放置顺序：选择"正确"

4. **点击"开始换尿布"**
   - 观察宝宝表情变化
   - 查看数值变化
   - 成功后会显示笑脸 😊

5. **重试**
   - 点击"再来一次"按钮重新开始

---

## 🔍 故障排除

### 问题 1：应用无法启动

**检查 Flask 是否安装：**
```bash
python -m pip show flask
```

**如果未安装：**
```bash
python -m pip install Flask==2.3.3
```

### 问题 2：导入错误

**检查文件是否存在：**
- `main.py` ✅
- `diaper_change_task.py` ✅
- `hardcore_parenting_game.py` ✅

**检查导入：**
```bash
python -c "from hardcore_parenting_game import HardcoreParentingGame; print('OK')"
python -c "from diaper_change_task import diaper_bp; print('OK')"
```

### 问题 3：端口被占用

**更改端口：**
```bash
# Windows
set PORT=8000
python main.py

# 或直接修改 main.py 最后一行
port = int(os.environ.get('PORT', 8000))  # 改为 8000
```

### 问题 4：浏览器无法访问

**检查应用是否运行：**
1. 查看命令行是否有错误信息
2. 尝试访问健康检查端点：`http://localhost:5000/health`
3. 检查防火墙设置

---

## 📁 文件结构

```
项目根目录/
├── main.py                      # 主应用（已更新）
├── diaper_change_task.py        # 换尿布任务模块（新建）
├── hardcore_parenting_game.py   # 游戏核心逻辑
├── requirements.txt             # 依赖列表
├── start_app.bat               # 启动脚本（新建）
├── test_setup.py               # 环境测试脚本（新建）
├── 换尿布任务说明.md            # 详细说明
└── 快速启动-换尿布任务.md       # 快速指南
```

---

## 🎯 下一步

1. **测试功能**
   - 尝试不同的参数组合
   - 观察成功/失败的不同反馈
   - 体验"喷射袭击"随机事件

2. **自定义**
   - 修改 `diaper_change_task.py` 中的 HTML 样式
   - 调整游戏难度参数
   - 添加更多表情或动画

3. **扩展功能**
   - 添加更多任务（喂奶、哄睡等）
   - 集成背景音乐系统
   - 添加成就系统

---

## 💡 提示

- **最佳体验**：使用 Chrome 或 Firefox 浏览器
- **推荐参数**：提腿速度 3-4 秒，擦拭 7-9 次
- **注意事项**：提腿太慢（>5秒）可能触发喷射袭击！

---

## 📞 需要帮助？

如果遇到问题：
1. 查看命令行错误信息
2. 运行 `python test_setup.py` 检查环境
3. 查看 `换尿布任务说明.md` 获取详细信息

---

**祝您游戏愉快！** 🎮✨
